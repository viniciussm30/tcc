<script type="text/javascript">
    $(document).ready(function() {
        $('#cadTrabalhador').validate({
            rules: {
                nomeTrabalhador: {
                    required: true,
                    maxlength: 200,
                    minlength: 10,
                    minwords: 2
                },
                apelidoTrabalhador: {
                    required: false,
                    maxlength: 100
                },
                dataNasciementoTrabalhador: {
                    required: true
                },
                cpfTrabalhador: {
                    required: true,
                    maxlength: 16,
                    cpfBR: true
                },
                atuacaoTrabalhador: {
                    required: true
                },
                cidadeTrabalhador: {
                    required: true
                },
                estadoTrabalhador: {
                    required: true
                },
                telefoneTrabalhador: {
                    required: true,
                    maxlength: 11
                },
                emailTrabalhador: {
                    required: true,
                    email: true
                },
                senhaTrabalhador: {
                    required: true,
                    rangelength: [6, 16]
                },
                confirmacaoSenhaTrabalhador: {
                    required: true,
                    equalTo: "#senhaTrabalhador"
                },
                termos: {
                    required: true
                }
            },

        })

        $.getJSON('cidade_estado.json', function(data) {

            var items = [];
            var options = '<option value="">Escolha seu estado</option>';

            $.each(data, function(key, val) {
                options += '<option value="' + val.nome + '">' + val.nome + '</option>';
            });
            $("#estados").html(options);

            $("#estados").change(function() {

                var options_cidades = '';
                var str = "";

                $("#estados option:selected").each(function() {
                    str += $(this).text();
                });

                $.each(data, function(key, val) {
                    if (val.nome == str) {
                        $.each(val.cidades, function(key_city, val_city) {
                            options_cidades += '<option value="' + val_city + '">' + val_city + '</option>';
                        });
                    }
                });

                $("#cidades").html(options_cidades);

            }).change();

        });

    });
</script>

<div class="container-fluid">
    <div class="row">
        <div class="col col-12">
            <h2>Cadastro Trabalhador</h2>

        </div>
    </div>

    <form id="cadTrabalhador" name="cadTrabalhador">
        <div class="form-row">
            <div class="form-group col-12 col-md-6">
                <label for="nomeTrabalhador">Nome*</label>
                <input type="text" class="form-control" name="nomeTrabalhador" placeholder="Digite seu nome completo" aria-required="true">
            </div>
            <div class="form-group col-12 col-md-4">
                <label for="apelidoTrabalhador">Apelido</label>
                <input type="text" class="form-control" name="apelidoTrabalhador" placeholder="Digite um apelido">
            </div>
            <div class="form-group col-12 col-md-2">
                <label for="dataNascimentoTrabalhador">Nascimento*</label>
                <input type="date" class="form-control" name="dataNasciementoTrabalhador">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-12 col-md-2">
                <label for="cpfTrabalhador">CPF*</label>
                <input type="text" class="form-control" name="cpfTrabalhador" placeholder="000.000.000-00" maxlength="11">
            </div>
            <div class="form-group col-12 col-md-4">
                <label for="atuacaoTrabalhador">Atuação*</label>
                <select name="atuacaoTrabalhador" class="form-control">
                <option selected disabled>Selecione a área em que trabalha</option>
                <option value="Eletricista">Eletricista</option>
                <option value="Encanador">Encanador</option>
                <option value="Manicure">Manicure</option>
                <option value="Babá">Babá</option>
                <option value="Diarista">Diarista</option>
            </select>
            </div>
            <div class="form-group col-12 col-md-2">
                <label for="estadoTrabalhador">Estado*</label>
                <select name="estadoTrabalhador" id="estados" class="form-control">
                <option selected disabled></option>
            </select>
            </div>
            <div class="form-group col-12 col-md-4">
                <label for="cidadeTrabalhador">Cidade*</label>
                <select name="cidadeTrabalhador" id="cidades" class="form-control">

                </select>
            </div>
        </div>
        <div class="form-row">


            <div class="form-group col-12 col-md-2">
                <label for="telefoneTrabalhador">WhatsApp*</label>
                <input required type="tel" class="form-control" name="telefoneTrabalhador" placeholder="(00) 00000-0000" maxlength="11">
                <small name="avisoSenha" class="form-text text-muted">Somente DDD e o número. Não precisa de traços e parênteses</small>
            </div>
            <div class="form-group col-12 col-md-6">
                <label for="emailTrabalhador">E-mail*</label>
                <input type="email" class="form-control" name="emailTrabalhador" placeholder="seuemail@exemplo.com">
                <small name="avisoEmail" class="form-text text-muted"></small>
            </div>
            <div class="form-group col-12 col-md-4">
                <label for="senhaTrabalhador">Senha*</label>
                <input type="password" class="form-control" name="senhaTrabalhador" id="senhaTrabalhador" placeholder="Digite uma senha" maxlength="16">
                <small name="avisoSenha" class="form-text text-muted">Permitido até 16 caracteres</small>
            </div>
            <div class="form-group col-12 col-md-3">
                <label for="confirmacaoSenhaTrabalhador">Confirme sua senha*</label>
                <input type="password" class="form-control" name="confirmacaoSenhaTrabalhador" id="confirmacaoSenhaTrabalhador" placeholder="Diie sua senha novamente">
                <small name="avisoConfirmacaoSenhaClente" class="form-text text-muted"></small>
            </div>
        </div>



        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="termos" name="termos">
                <label class="form-check-label" for="gridCheck">
          Concordo com os termos e condições
        </label>
            </div>
            <div class="invalid-feedback">
                Você deve concordar, antes de continuar.
            </div>
        </div>
        <button type="submit" class="btn btn-primary btnCadTrabalhador">Cadastrar</button>
    </form>
</div>



<script src="trabalhador/controle/add-trabalhador.js"></script>